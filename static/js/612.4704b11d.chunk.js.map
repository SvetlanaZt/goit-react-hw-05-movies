{"version":3,"file":"static/js/612.4704b11d.chunk.js","mappings":"6QAAO,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,oFACS,mCADT,SAEUC,MAAM,yDAAD,OADN,qCAGVC,MAAK,SAAAC,GACP,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,0FAElB,OAAOF,EAAIG,MACZ,IATI,0GAYA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAyBC,GAAzB,uEACS,mCADT,SAEUP,MAAM,sCAAD,OACwBO,EADxB,4BADN,qCAGVN,MAAK,SAAAC,GACP,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,0FAElB,OAAOF,EAAIG,MACZ,IATI,0GAYA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA+BD,GAA/B,uEACS,mCADT,SAEUP,MAAM,sCAAD,OACwBO,EADxB,oBADN,qCAGVN,MAAK,SAAAC,GACP,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,0FAElB,OAAOF,EAAIG,MACZ,IATI,0GAYA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA0BC,GAA1B,uEACS,mCADT,SAEUV,MAAM,qDAAD,OADN,mCACM,kBACoDU,IACpET,MAAK,SAAAC,GACP,IAAKA,EAAIC,GACP,MAAM,IAAIC,MAAM,0FAElB,OAAOF,EAAIG,MACZ,IATI,0G,iIClCMM,EAAYC,EAAAA,GAAAA,IAAH,6CAITC,EAAcD,EAAAA,GAAAA,MAAH,mD,kBCDT,SAASE,IACpB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SAE/B,GAAwBC,EAAAA,EAAAA,UAAQ,OAACF,QAAD,IAACA,EAAAA,EAAQ,IAAzC,eAAOR,EAAP,KAAaW,EAAb,KACA,GAA2BD,EAAAA,EAAAA,UAAS,IAApC,eAAOE,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACDR,IACLT,EAAAA,EAAAA,IAAWS,GAAOjB,MAAK,SAAA0B,GAAI,OAAGJ,EAASI,EAAKC,QAAjB,GAC9B,GAAC,CAACV,IAOH,OACA,UAACP,EAAD,YACI,kBAAMkB,SAPS,SAAAC,GACdA,EAAIC,iBACJd,EAAgB,UAAD,OAAWP,GAC9B,EAIG,WACQ,SAACG,EAAD,CACImB,SAAU,SAAAC,GAAC,OAAGZ,EAAQY,EAAEC,OAAOC,MAApB,EACXzB,KAAK,OACL0B,KAAK,OACLC,aAAa,MACbC,WAAS,EACTH,MAAOzB,KAEX,mBAAQ0B,KAAK,SAAb,UACV,2CAIO,0BAAK,wBACHd,GAAUA,EAAOiB,KAAI,SAAAC,GAAK,OACvB,yBACI,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IACvBC,MAAO,CAAEC,KAAMpB,GADnB,SAEEgB,EAAMK,SAHHL,EAAME,GADQ,UASxC,C","sources":["api/api.jsx","components/pages/Movies/Movies.styled.js","components/pages/Movies/Movies.jsx"],"sourcesContent":["export async function fetchHome() {\n    const key = 'a42a61c067e66eee5834012056e5662a';\n    return await fetch(\n        `https://api.themoviedb.org/3/trending/all/day?api_key=${key}`\n    ).then(res => {\n    if (!res.ok) {\n      throw new Error('Не пришли данные');\n    }\n    return res.json();\n  });\n}\n\nexport async function fetchCast(movieId) {\n    const key = 'a42a61c067e66eee5834012056e5662a';\n    return await fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${key}`\n    ).then(res => {\n    if (!res.ok) {\n      throw new Error('Не пришли данные');\n    }\n    return res.json();\n  });\n}\n\nexport async function fetchHomeMovies(movieId) {\n    const key = 'a42a61c067e66eee5834012056e5662a';\n    return await fetch(\n        `https://api.themoviedb.org/3/movie/${movieId}?api_key=${key}`\n    ).then(res => {\n    if (!res.ok) {\n      throw new Error('Не пришли данные');\n    }\n    return res.json();\n  });\n}\n\nexport async function fetcMovies(name) {\n    const key = 'a42a61c067e66eee5834012056e5662a';\n    return await fetch(\n        `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${name}`\n    ).then(res => {\n    if (!res.ok) {\n      throw new Error('Не пришли данные');\n    }\n    return res.json();\n  });\n}","import styled from 'styled-components';\n\nexport const StyledDiv = styled.div`\n  margin-top: 20px;\n`;\n\nexport const StyledInput = styled.input`\n  border: 1px solid #ccc;\n`;\n","import { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nimport { StyledDiv, StyledInput } from './Movies.styled';\nimport {fetcMovies} from 'api/api'\n\nexport default function Movies() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const query = searchParams.get('query')\n\n    const [name, setName] = useState(query ??'');\n    const [movies, setMovie] = useState('');\n\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!query) return;\n        fetcMovies(query).then(data=> setMovie(data.results))\n    },[query])\n\n     const onSuubmit = evt => {\n         evt.preventDefault();\n         setSearchParams(`?query=${name}`)\n    }\n\n    return ( \n    <StyledDiv>\n        <form onSubmit={onSuubmit}>\n                <StyledInput\n                    onChange={e=> setName(e.target.value)}\n                    name='name'\n                    type=\"text\"\n                    autoComplete='off'\n                    autoFocus\n                    value={name} \n                />\n                <button type=\"submit\">\n      <span>Search</span>\n    </button>\n            </form>\n\n             <div><ul>\n              {movies && movies.map(movie => (\n                  <li key={movie.id}>\n                      <Link to={`/movies/${movie.id}`}\n                          state={{ from: location }}\n                      >{movie.title}</Link></li>\n              ))}\n          </ul> \n          </div>\n        </StyledDiv>)\n}\n"],"names":["fetchHome","fetch","then","res","ok","Error","json","fetchCast","movieId","fetchHomeMovies","fetcMovies","name","StyledDiv","styled","StyledInput","Movies","useSearchParams","searchParams","setSearchParams","query","get","useState","setName","movies","setMovie","location","useLocation","useEffect","data","results","onSubmit","evt","preventDefault","onChange","e","target","value","type","autoComplete","autoFocus","map","movie","to","id","state","from","title"],"sourceRoot":""}